<html>
<head>
<title>hook.io - the free web hook platform</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">

<style>


	body {font-family:Arial, Helvetica, sans-serif;}
	p { padding:5px; margin:0px; }
	ul { padding:5px; margin:0px;}
	li { padding:0px; margin:0px; font-size:18px;}	
	h4{ padding:0px; margin:0px;}
	label{cursor:pointer;}
	table {text-align:center;}
	table tr td{text-align:center;}
	#wrapper { width:100%; height:100%; background-color:#ddeef5;}
	#header { width:100%; background-color:#c0ddec; height:135;}
	#queue { width: 950px; height:135px; background: url(images/layout_03.png) no-repeat center 0; padding-top:15px; }
	#slider{margin-top:25px;position:relative;text-align:left;width:880px;}
	#timeline {display:none; }
	#body { height: 300px;width:950px;}
	#whenThis{ cursor:pointer;}
	#doThis{ cursor:pointer;}
	#createHook {cursor:pointer;height:73px;left:428px;position:absolute;top:100px;width:50px;}
	#timeline #stats { font-size:20px;padding-left:50px;padding-top:10px;}
	#doThisPanel{ left:0px; }
	#whenThisPreview{ position:relative; top:47px;}
	#doThisPreview{ position:relative; top:47px;}
	#whenThisHome {display:block;}
	#doThisHome {display:block;}	
	#slider{ border: 1px solid #000/*{borderColorContent}*/;}
	#hookConfirm{width:930px; background-color:#FFFFFF; height:280px;padding:10px; position:relative;}
	#hookConflicts{ height:90px; text-align:left; display:none;}
	#hookForm{}
	#hooksView {border:thin none #000000;display:block;left:550px;position:absolute;width:690px;}
	input[type='radio'] { cursor:pointer;}
	#hookHelper{ border:medium solid;height:270px;margin:5px;position:absolute;right:90px;top:7px;width:300px;}
	#hookSelector {	height:910px;	left:20px;	margin:5px;	position:absolute;	top:7px;	width:930px;}
	.emailForm { position:relative; padding-left:20px; padding-top:10px;}
	.emailForm tr td { text-align:left; }
	.hookContainer { height:400px;}
	.headers { display:none; }
	.active {display:block; !important}
	.panel {display:block;position:relative;width:317px; height:185px;font-size:12px;}
.hookPage {
background-color:#C0DDEC;
display:none;
height:160px;
position:absolute;
top:95px;
width:385px;
}
	.hookAction{background-color:#C0DDEC;
display:none;
height:160px;
position:absolute;
top:95px;
width:385px;}
	#rightHolder {

position:absolute;
right:25;
}
	#leftHolder {left:0;position:absolute;}
	#uri {width:210px;}
	#twitterUser {width:200px;}
	#httpPayload {height:100px;width:342px;}
	#httpURL{ width:178px;}
	#httpMethod{ width:160px;}
	#message{height:25px;width:340px;}
	
.hookPanels {border:1px solid;height:230px;padding-top:25px;text-align:center;width:385px;position:absolute;top:10px;}
#twitterStatus{ width:300px; height:60px; margin-top:10px;}
.tinyText{ font-size:10px;}
</style>


<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="js/jquery.ui.js"></script>
<script type="text/javascript" src="js/jquery.cycle.js"></script>
<script type="text/javascript" src="js/debug.js"></script>
<script type="text/javascript" src="js/hookIO.js"></script>
<link type="text/css" href="css/ui.all.css" rel="stylesheet" />


<script type="text/javascript">
	$(document).ready(function(){
		
		// helper method for posting JSON
		$.postJSON = function(url, data, callback) {
			$.post(url, data, callback, "json");
		};
		
		$('#hookiolistener').data('status', 'active');
		$('#httpRequest').data('status', 'active');		
		
		
		/*
		$('#hookConfirm a').click(function(e){

			//$('#whenThisPanel').dialog( 'close' );
			//var pID = '#' + $(this).attr('href').replace(/#\//,'');
			//$(pID).show();
			$('#hookConfirm').fadeOut(500, function(){
				$('#hookForm').fadeIn(500);
			});
		});
		*/
		$('#uri').keyup(function(e){
			$('#uriPreview').html('http://hook.io/' + $(this).val());
		});
		$('#twitterUser').keyup(function(e){
			$('#twitterUserPreview').html('http://twitter.com/' + $(this).val());
		});
		
		
		$('body').click(function() {
		  $('#hookListen').change();
		  $('#hookAction').change();		  
		});

		
		
		$('#hookListen').change(function(e){
			// hide all panels
			var pID = $(this).val();
			if(pID == ""){pID="hookiolistener";};
			$('.hookPage').hide();
			$('.hookPage').data('status', 'inactive');
			$('#' + pID).show();
			$('#' + pID).data('status', 'active');			
			
		});
		$('#hookAction').change(function(e){
			// hide all panels
			var pID = $(this).val();
			if(pID == ""){pID="http";};
			$('.hookAction').hide();
			$('.hookAction').data('status', 'inactive');			
			$('#' + pID).show();
			$('#' + pID).data('status', 'active');						
		});
		// save buttons
		$('#whenThisPanel .save').click(function(e){
			$('#whenThisPanel').dialog( 'close' );
		});

		$('#doThisPanel .save').click(function(e){
			$('#doThisPanel').dialog( 'close' );			
		});
		$('#createHook').click(function(e){
			var hook = {};
			hook.action = {};
			hook.listener = {};
			// determine listener and action
			$('.hookAction').each(function(i,e){
				if($(this).data('status')=='active'){
					var actionType = $(this).attr('id')
					hook.action[actionType]={};
					$('input',$(this)).each(function(e,i){
						// check form values and create api object call
						hook.action[actionType][$(this).attr('id')] = $(i).val();						
					});
				}
			});
			$('.hookPage').each(function(i,e){
				if($(this).data('status')=='active'){
					var listenerType = $(this).attr('id')
					hook.listener[listenerType]={};
					$('input',$(this)).each(function(e,i){
						// check form values and create api object call
						hook.listener[listenerType][$(this).attr('id')] = $(i).val();						
					});
				}
			});
			hookIO.createHooks(hook);
			debug.log(hook);
			/*
			$('#hookForm input').each(function(e,i){
					// check form values and create api object call
					console.log($(i).attr('id'));
					console.log($(i).val());
			});
		
			$('#hookForm').fadeOut(500, function(){
				$('#hookConfirm').fadeIn(500, function(){
					$('#hookConflicts').effect("pulsate", { times:2 }, 2000);
				});
			});
			*/
		});
		
		// load queue
		$('#queueIMG').effect("pulsate", { times:2 }, 2000, function(e){
		  $(this).fadeOut(500, function(e){
		    $('#timeline').fadeIn(500, function(e){
				
				// enable slider
				$('#slider').slider({ animate: true, max : 3456, min : 0 });
				$('#slider').slider('option', 'value', 246);
				
				// cycle through header
				$('.slideshow').cycle({
					fx: 'fade',
					speed: 1500
					
				});


				setInterval ( function(){

				$('#totalHooks').html(Number($('#totalHooks').html()) + 1);
				},
				2314);
				
				
				setInterval ( function(){
					if($('#slider').slider('option', 'value') == $('#slider').slider('option', 'max')){
						$('#slider').slider('option', 'value', 0);
					}
					else{
						$('#slider').slider('option', 'value',  $('#slider').slider('option', 'value') + 1);

						
					}
					$('#hookInQueue').html($('#slider').slider('option', 'max') - $('#slider').slider('option', 'value'));
				}, 50);
			});
		  });
		});
	});
</script>

</head>
<body bgcolor="#ddeef5" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<div id="wrapper" align="center">
	<div id="header" align="center">
		<div class="slideshow">
		<img src="images/header1.png" border="0" class="headers active" />
		<img src="images/header2.png" border="0" class="headers"  />
		<img src="images/header3.png" border="0" class="headers"  />
		<img src="images/header4.png" border="0" class="headers"  />
		<img src="images/header5.png" border="0" class="headers"  />								
		</div>
	</div>
	<div id="body" align="center">
		<div id="hookConfirm" align="left">
    	<form action="#/" id="hookForm">
					<div id="hookSelector">
						<div id="leftHolder" class="hookPanels">
							
                            <select id="hookListen" name="hookListen">
                            	<option value="listenerDetail">pick an event you want to hook to</option>
                            	<option value="hookiolistener">hook.io listener</option>
                            	<option value="twitterListen">twitter updates</option>      
                            	<option value="timer">timer</option>                                      
                            </select>
							<br/>
							<div id="hookiolistener" class="hookPage" style="display:block;">
                            	<br/>
                            	<br/>                                
								<p>create a unique url to listen for POST or GET hooks</p><br/>
								<label title="listening url"/><input id="uri" name="uri" type="text" value="/" size="12"/><br/>
								<span class="tinyText" id="uriPreview">http://hook.io/</span>                                
							</div>
							<div id="timer" class="hookPage">
                            	<br/>
                            	<br/>                                
								<p>trigger hook every <input type="text" value="60" size="2"/> second(s)
								<span class="tinyText"><input type="text" value="0" size="2"/> time(s)</span></p>
								<span class="tinyText">(a value of 0 will trigger forever)</span>
							</div>
							<div id="twitterListen" class="hookPage">
                            	<br/>
                                <br/>
								<p>watch a twitter user and trigger hook on tweets</p><br/>
								<input id="twitterUser" name="twitterUser" type="text" value="maraksquires" size="12"/><br/>
								<span class="tinyText" id="twitterUserPreview">http://twitter.com/maraksquires</span>                                                                
							</div>
							<div id="afterHook" class="hookPage">
								<h4>Attach a new hook to the end of an old hook</h4>
								<p>after the completion of an existing hook, trigger a new action
								<select name="hooks">
									<option value="">Select existing hook...</option>				
									<option value="http://hook.io/status">http://hook.io/status</option>
									<option value="http://hook.io/marak/status">http://hook.io/marak/status</option>					
									<option value="http://hook.io/Guest123/blah">http://hook.io/Guest123/blah</option>					
								</select>
								<p>will trigger <input type="text" value="1" size="2"/> time(s)</p>				
								<p>(a value of 0 will trigger forever)</p>

							</div>
							
						</div>
            
            <input type="button" value="hook" id="createHook" name="createHook" />
						<div id="rightHolder" class="hookPanels">
                            <select id="hookAction" name="hookListen">
                            	<option value="">pick an action your new hook should perform</option>
                            	<option value="http">http request</option>
                            	<option value="twitter">update twitter status</option>      
                            	<option value="email">send email</option>                                      
                            </select>
							<div id="httpRequest" class="hookAction" style="display:block;">
                            	<br/>
                                <label title="method"/>                                
								<select id="httpMethod" name="httpMethod">
									<option value="">Select HTTP Method...</option>				
									<option value="POST">POST</option>
									<option value="GET">GET</option>					
									<option value="UPDATE">UPDATE</option>					
									<option value="DELETE">DELETE</option>										
								</select>
								<input id="httpURL" name="httpURL" type="text" size="25" value="http://"/><br/>
								<textarea id="httpPayload" name="httpPayload">{"param1" : "foo", "param2" : "bar"}</textarea><br/>
							</div>
							<div id="email" class="hookAction">
								<table class="emailForm">
									<tr>
										<td>to : </td><td><label title="to"/><input id="to" name="to" type="text" size="25" value="marak.squires@gmail.com"/></td>
									</tr>
									<tr>
										<td>from : </td><td><label title="from"/><input id="from" name="from"  type="text" size="25" value="obama@whitehouse.gov"/></td>
									</tr>
									<tr>
										<td>bcc : </td><td><label title="bcc"/><input id="bbc" name="bbc"  type="text" size="25" value=""/></td>
									</tr>
									<tr>
										<td>subject : </td><td><label title="subject"/><input id="subject" name="subject"  type="text" size="25" value="hook.io is awesome!"/></td>
									</tr>
									<tr>
										<td colspan="2"><label title="message"/><textarea id="message" name="message">Message goes here</textarea></td>
									</tr>
								</table>
							</div>
							<div id="twitter" class="hookAction">
                            	<br/>
								<table width="280" align="center">
									<tr><td>username : </td><td><input type="text" size="25" value="maraksquires"/></td></tr>
									<tr><td>password : </td><td><input size="25" value="" type="password"/></td></tr>
									<tr><td colspan="2"><textarea id="twitterStatus" name="twitterStatus" cols="25" rows="3">I've just hook.io'd into twitter.</textarea></td></tr>
								</table>
							</div>
							<div id="facebook" class="hookAction">
								<p>username : <input type="text" size="25" value=""/></p>		
								<p>password : <input size="25" value="" type="password"/></p>		
							</div>
							<div id="triggerHook" class="hookPage">
								<p>after the completion of an existing hook, trigger a new action
								<select name="hooks">
									<option value="">Select existing hook...</option>				
									<option value="http://hook.io/status">http://hook.io/status</option>
									<option value="http://hook.io/marak/status">http://hook.io/marak/status</option>					
									<option value="http://hook.io/Guest123/blah">http://hook.io/Guest123/blah</option>					
								</select>
								
								<p>will trigger <input type="text" value="1" size="2"/> time(s)</p>				
								<p>(a value of 0 will trigger forever)</p>

							</div>
							
							
						</div>					
					</div>					
			<ul id="hookConflicts">
				<li>validating hook trigger</li>
				<li>validating hook action</li>	
				<li>checking for hook conflicts</li>			
			</ul>
			
			<!--		
			<div id="confirmFooter">
				<a href="#/hookForm">back</a>
				<input type="button" value="Confirm and push hook into queue" />
			</div>
			-->

    </div>
	</form>    
	</div>

	<div id="confirm" style="display:none;" >
	
	
	<h1>YOU SURE YOU WANT TO DO THAT </h1>
	</div>
	<div id="footer">
		<div id="queue" align="center">
			<img id="queueIMG" src="images/loadingQueue.png" alt="" />
			<div id="timeline" align="center">
				<div id="stats"><strong>total hooks :</strong> <span id="totalHooks">12542</span> <strong>hooks in queue :</strong> <span id="hookInQueue">3456</span> <strong>next queue in :</strong> 45 seconds</div>
				<div id="slider"></div>						
			</div>				
		</div>	
		
	</div>
</div>
</body>
</html>